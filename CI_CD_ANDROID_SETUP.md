# –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ CI/CD –¥–ª—è Android

## ‚úÖ –ß—Ç–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ

–°–æ–∑–¥–∞–Ω—ã —Ñ–∞–π–ª—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ GitHub Actions –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π —Å–±–æ—Ä–∫–∏ Android —Ä–µ–ª–∏–∑–Ω—ã—Ö –≤–µ—Ä—Å–∏–π:
- `.github/workflows/release-android.yml` - –¥–ª—è —Ä–µ–ª–∏–∑–Ω—ã—Ö —Å–±–æ—Ä–æ–∫
- `.github/workflows/build-android.yml` - –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –∫–æ–¥–∞

## üöÄ –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

### 1. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤–∞—à –ø—Ä–æ–µ–∫—Ç –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –Ω–∞ GitHub:

```bash
# –ï—Å–ª–∏ –µ—â–µ –Ω–µ —Å–æ–∑–¥–∞–Ω —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
git remote add origin https://github.com/–≤–∞—à-username/Point_v1.git
git push -u origin main
```

### 2. –°–æ–∑–¥–∞–Ω–∏–µ —Ä–µ–ª–∏–∑–∞ (Android)

#### –°–ø–æ—Å–æ–± 1: –ß–µ—Ä–µ–∑ —Ç–µ–≥ (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π)

```bash
# 1. –û–±–Ω–æ–≤–∏—Ç–µ –≤–µ—Ä—Å–∏—é –≤ Point_v1.csproj (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
# –ò–∑–º–µ–Ω–∏—Ç–µ ApplicationDisplayVersion = "1.0.0"

# 2. –°–æ–∑–¥–∞–π—Ç–µ —Ç–µ–≥
git tag -a v1.0.0 -m "Release version 1.0.0"

# 3. –û—Ç–ø—Ä–∞–≤—å—Ç–µ —Ç–µ–≥
git push origin v1.0.0
```

–ü–æ—Å–ª–µ –æ—Ç–ø—Ä–∞–≤–∫–∏ —Ç–µ–≥–∞ GitHub Actions –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
- –°–æ–±–µ—Ä–µ—Ç Android APK
- –°–æ–∑–¥–∞—Å—Ç Release –Ω–∞ GitHub —Å –±–∏–ª–¥–æ–º

#### –°–ø–æ—Å–æ–± 2: –í—Ä—É—á–Ω—É—é

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ GitHub ‚Üí Actions
2. –í—ã–±–µ—Ä–∏—Ç–µ "Android Release Build"
3. –ù–∞–∂–º–∏—Ç–µ "Run workflow"
4. –í–≤–µ–¥–∏—Ç–µ –≤–µ—Ä—Å–∏—é (–Ω–∞–ø—Ä–∏–º–µ—Ä: 1.0.0)
5. –ù–∞–∂–º–∏—Ç–µ "Run workflow"

### 3. –ì–¥–µ –Ω–∞–π—Ç–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

**–ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Å–±–æ—Ä–∫–∏:**

1. **–ê—Ä—Ç–µ—Ñ–∞–∫—Ç—ã** (–¥–ª—è —Å–∫–∞—á–∏–≤–∞–Ω–∏—è):
   - Actions ‚Üí –≤—ã–±–µ—Ä–∏—Ç–µ –∑–∞–ø—É—Å–∫ ‚Üí Artifacts
   - –°–∫–∞—á–∞–π—Ç–µ `android-apk-release`

2. **GitHub Release** (–µ—Å–ª–∏ –±—ã–ª —Å–æ–∑–¥–∞–Ω —Ç–µ–≥):
   - Releases ‚Üí –Ω–∞–π–¥–∏—Ç–µ –≤–∞—à—É –≤–µ—Ä—Å–∏—é
   - –°–∫–∞—á–∞–π—Ç–µ APK —Ñ–∞–π–ª

## üì± Android —Å–±–æ—Ä–∫–∞

### –ß—Ç–æ —Å–æ–∑–¥–∞–µ—Ç—Å—è:
- **–§–∞–π–ª:** APK (Android Package)
- **–ü—É—Ç—å:** `bin/Release/net10.0-android/publish/*.apk`
- **–ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å:** ‚úÖ –ì–æ—Ç–æ–≤ –∫ —É—Å—Ç–∞–Ω–æ–≤–∫–µ –ø–æ—Å–ª–µ —Å–∫–∞—á–∏–≤–∞–Ω–∏—è

### –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:
- –ü–æ–¥–ø–∏—Å—å –æ—Ç–∫–ª—é—á–µ–Ω–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é (–¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)
- –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è Android: 21 (Android 5.0)
- –ú–æ–∂–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –Ω–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ —Å–∫–∞—á–∏–≤–∞–Ω–∏—è

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–æ–¥–ø–∏—Å–∏ (–¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞):

1. –°–æ–∑–¥–∞–π—Ç–µ keystore –ª–æ–∫–∞–ª—å–Ω–æ:
```bash
keytool -genkey -v -keystore point-release.keystore \
  -alias point-key -keyalg RSA -keysize 2048 -validity 10000
```

2. –î–æ–±–∞–≤—å—Ç–µ —Å–µ–∫—Ä–µ—Ç—ã –≤ GitHub:
   - Settings ‚Üí Secrets and variables ‚Üí Actions
   - –î–æ–±–∞–≤—å—Ç–µ:
     - `ANDROID_KEYSTORE_PASSWORD`
     - `ANDROID_KEY_ALIAS` 
     - `ANDROID_KEY_PASSWORD`

3. –û–±–Ω–æ–≤–∏—Ç–µ `.github/workflows/release-android.yml`:
   - –ò–∑–º–µ–Ω–∏—Ç–µ `AndroidKeyStore=false` –Ω–∞ `true`
   - –î–æ–±–∞–≤—å—Ç–µ –ø—É—Ç–∏ –∫ keystore

## üîÑ –ï–∂–µ–¥–Ω–µ–≤–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–¥–∞

–ü—Ä–∏ –∫–∞–∂–¥–æ–º push –≤ `main` –∏–ª–∏ `develop`:
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–±–∏—Ä–∞–µ—Ç—Å—è Android –≤–µ—Ä—Å–∏—è
- ‚úÖ –ü—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è, —á—Ç–æ –∫–æ–¥ –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è

–≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –±—ã—Å—Ç—Ä–æ –Ω–∞—Ö–æ–¥–∏—Ç—å –æ—à–∏–±–∫–∏ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏.

## üìã –ß–µ–∫–ª–∏—Å—Ç –ø–µ—Ä–µ–¥ —Ä–µ–ª–∏–∑–æ–º

- [ ] –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç –ª–æ–∫–∞–ª—å–Ω–æ
- [ ] –í–µ—Ä—Å–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∞ –≤ `Point_v1.csproj`
- [ ] –ö–æ–¥ –∑–∞–∫–æ–º–º–∏—á–µ–Ω –∏ –∑–∞–ø—É—à–µ–Ω
- [ ] –°–æ–∑–¥–∞–Ω —Ç–µ–≥ `v1.0.0`
- [ ] GitHub Actions –∑–∞–≤–µ—Ä—à–∏–ª—Å—è —É—Å–ø–µ—à–Ω–æ
- [ ] –ü—Ä–æ–≤–µ—Ä–µ–Ω—ã –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã (APK)
- [ ] Release —Å–æ–∑–¥–∞–Ω –Ω–∞ GitHub

## üêõ –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –û—à–∏–±–∫–∞: "No such file or directory"
**–ü—Ä–∏—á–∏–Ω–∞:** –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø—É—Ç—å –∫ —Ñ–∞–π–ª—É
**–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—É—Ç—å –≤ –ª–æ–≥–∞—Ö —Å–±–æ—Ä–∫–∏

### –û—à–∏–±–∫–∞: Android SDK not found
**–ü—Ä–∏—á–∏–Ω–∞:** Android SDK –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
**–†–µ—à–µ–Ω–∏–µ:** Workflow –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `setup-android@v3`, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏

### –ê—Ä—Ç–µ—Ñ–∞–∫—Ç—ã –Ω–µ –Ω–∞–π–¥–µ–Ω—ã
**–ü—Ä–æ–±–ª–µ–º–∞:** APK —Ñ–∞–π–ª—ã –Ω–µ —Å–æ–∑–¥–∞–Ω—ã
**–†–µ—à–µ–Ω–∏–µ:**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—É—Ç—å –∫ —Ñ–∞–π–ª–∞–º –≤ –ª–æ–≥–∞—Ö
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Å–±–æ—Ä–∫–∞ –ø—Ä–æ—à–ª–∞ —É—Å–ø–µ—à–Ω–æ
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã publish –∫–æ–º–∞–Ω–¥—ã

## üìö –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- [GitHub Actions –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è](https://docs.github.com/en/actions)
- [.NET MAUI —Å–±–æ—Ä–∫–∞](https://learn.microsoft.com/en-us/dotnet/maui/deployment/)
- [Android –ø–æ–¥–ø–∏—Å—å](https://developer.android.com/studio/publish/app-signing)

## üéØ –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ü—Ä–∏–º–µ—Ä 1: –°–æ–∑–¥–∞—Ç—å —Ä–µ–ª–∏–∑ v1.0.0

```bash
# –û–±–Ω–æ–≤–∏—Ç–µ –≤–µ—Ä—Å–∏—é
# –í Point_v1.csproj: <ApplicationDisplayVersion>1.0</ApplicationDisplayVersion>

# –°–æ–∑–¥–∞–π—Ç–µ —Ç–µ–≥
git tag -a v1.0.0 -m "First release"
git push origin v1.0.0
```

### –ü—Ä–∏–º–µ—Ä 2: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å —Å–±–æ—Ä–∫–∏

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ: https://github.com/–≤–∞—à-username/Point_v1/actions
2. –ù–∞–π–¥–∏—Ç–µ –Ω—É–∂–Ω—ã–π –∑–∞–ø—É—Å–∫
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å –∫–∞–∂–¥–æ–≥–æ job

### –ü—Ä–∏–º–µ—Ä 3: –°–∫–∞—á–∞—Ç—å APK

1. Actions ‚Üí –≤—ã–±–µ—Ä–∏—Ç–µ –∑–∞–ø—É—Å–∫ ‚Üí Artifacts
2. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ `android-apk-release`
3. –°–∫–∞—á–∞–π—Ç–µ –∞—Ä—Ö–∏–≤
4. –†–∞—Å–ø–∞–∫—É–π—Ç–µ –∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ APK –Ω–∞ Android —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ


